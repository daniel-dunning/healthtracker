<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Tracker</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
        // Function to set the current date and time as the default value for the time input field
        function setCurrentTime() {
            var now = new Date();
            var year = now.getFullYear();
            var month = (now.getMonth() + 1).toString().padStart(2, '0');
            var day = now.getDate().toString().padStart(2, '0');
            var hours = now.getHours().toString().padStart(2, '0');
            var minutes = now.getMinutes().toString().padStart(2, '0');
            var currentTime = `${year}-${month}-${day}T${hours}:${minutes}`;
            document.getElementById("time").value = currentTime;
        }
        // Call the function when the page loads
        window.onload = setCurrentTime;
    </script>
</head>
<body>
    <div class="container">
        <h1 class="mt-5 mb-4">Health Tracker</h1>
        <form action="/add_measurement/" method="post">
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" class="form-control" id="weight" name="weight" step="0.01">
            </div>
            <div class="form-group">
                <label for="glucose">Glucose Level (mmol/L):</label>
                <input type="number" class="form-control" id="glucose" name="glucose">
            </div>
            <div class="form-group">
                <label for="long_acting_insulin">Long-Acting Insulin Usage (units):</label>
                <input type="number" class="form-control" id="long_acting_insulin" name="long_acting_insulin">
            </div>
            <div class="form-group">
                <label for="short_acting_insulin">Short-Acting Insulin Usage (units):</label>
                <input type="number" class="form-control" id="short_acting_insulin" name="short_acting_insulin">
            </div>
            <div class="form-group">
                <label for="systolic">Systolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" id="systolic" name="systolic">
            </div>
            <div class="form-group">
                <label for="diastolic">Diastolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" id="diastolic" name="diastolic">
            </div>
            <div class="form-group">
                <label for="pulse">Pulse (bpm):</label>
                <input type="number" class="form-control" id="pulse" name="pulse">
            </div>
            <div class="form-group">
                <label for="fluid_intake">Fluid Intake (ml):</label>
                <input type="number" class="form-control" id="fluid_intake" name="fluid_intake">
            </div>
            <div class="form-group">
                <label for="time">Time of Measurement:</label>
                <input type="datetime-local" class="form-control" id="time" name="time" required>
            </div>

            <button type="submit" value=1 name="from_form" class="btn btn-primary">Add Measurement</button>
        </form>
        <h2 class="mt-5">Measurements:</h2>

        <table border='1' style='border-collapse:collapse'>
           <TR>
           <TH>Time</TH>
           <TH>Weight</TH>
           <TH>Glucose</TH>
           <TH>Long Acting</TH>
           <TH>Short Acting</TH>
           <TH>Systolic</TH>
           <TH>Diastolic</TH>
           <TH>Pulse</TH>
           <TH>Fluid Intake</TH>
           </TR>
        {% for measurement in measurements[-1::-1] %}
        <TR>
           <TD>{{measurement.time}}</TD>
           <TD>{{measurement.weight}}</TD>
           <TD>{{measurement.glucose}}</TD>
           <TD>{{measurement.long_acting_insulin}}</TD>
           <TD>{{measurement.short_acting_insulin}}</TD>
           <TD>{{measurement.systolic}}</TD>
           <TD>{{measurement.diastolic}}</TD>
           <TD>{{measurement.pulse}}</TD>
           <TD>{{measurement.fluid_intake}}</TD>
        </TR>
        {% endfor %}
        </table>
    </div>
    <!-- Bootstrap JS -->
    <script src="https
