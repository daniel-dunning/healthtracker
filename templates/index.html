<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Tracker</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script>
        // Function to set the current date and time as the default value for the time input field
        function setCurrentTime() {
            var now = new Date();
            var year = now.getFullYear();
            var month = (now.getMonth() + 1).toString().padStart(2, '0');
            var day = now.getDate().toString().padStart(2, '0');
            var hours = now.getHours().toString().padStart(2, '0');
            var minutes = now.getMinutes().toString().padStart(2, '0');
            var currentTime = `${year}-${month}-${day}T${hours}:${minutes}`;
            document.getElementById("time").value = currentTime;
        }
        // Call the function when the page loads
        window.onload = setCurrentTime;
    </script>
</head>
<body>
    <div class="container">
        <h1 class="mt-5 mb-4">Health Tracker</h1>
        <form action="/add_measurement/" method="post">
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" class="form-control" id="weight" name="weight" step="0.01">
            </div>
            <div class="form-group">
                <label for="glucose">Glucose Level (mmol/L):</label>
                <input type="number" class="form-control" id="glucose" name="glucose">
            </div>
            <div class="form-group">
                <label for="long_acting_insulin">Long-Acting Insulin Usage (units):</label>
                <input type="number" class="form-control" id="long_acting_insulin" name="long_acting_insulin">
            </div>
            <div class="form-group">
                <label for="short_acting_insulin">Short-Acting Insulin Usage (units):</label>
                <input type="number" class="form-control" id="short_acting_insulin" name="short_acting_insulin">
            </div>
            <div class="form-group">
                <label for="systolic">Systolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" id="systolic" name="systolic">
            </div>
            <div class="form-group">
                <label for="diastolic">Diastolic Blood Pressure (mmHg):</label>
                <input type="number" class="form-control" id="diastolic" name="diastolic">
            </div>
            <div class="form-group">
                <label for="pulse">Pulse (bpm):</label>
                <input type="number" class="form-control" id="pulse" name="pulse">
            </div>
            <div class="form-group">
                <label for="fluid_intake">Fluid Intake (ml):</label>
                <input type="number" class="form-control" id="fluid_intake" name="fluid_intake">
            </div>
            <div class="form-group">
                <label for="time">Time of Measurement:</label>
                <input type="datetime-local" class="form-control" id="time" name="time" required>
            </div>
            <button type="submit" class="btn btn-primary">Add Measurement</button>
        </form>
        <h2 class="mt-5">Measurements:</h2>
        <ul class="list-group">
            {% for measurement in measurements[-5::] %}
                <li class="list-group-item">
                    <strong>Weight:</strong> {{ measurement.weight }} kg,
                    <strong>Glucose:</strong> {{ measurement.glucose }} mmol/L,
                    <strong>Long-Acting Insulin:</strong> {{ measurement.long_acting_insulin }} units,
                    <strong>Short-Acting Insulin:</strong> {{ measurement.short_acting_insulin }} units,
                    <strong>Systolic:</strong> {{ measurement.systolic }} mmHg,
                    <strong>Diastolic:</strong> {{ measurement.diastolic }} mmHg,
                    <strong>Pulse:</strong> {{ measurement.pulse }} bpm,
                    <strong>Fluid Intake:</strong> {{ measurement.fluid_intake }} ml,
                    <strong>Time:</strong> {{ measurement.time }}
                </li>
            {% endfor %}
        </ul>
    </div>
    <!-- Bootstrap JS -->
    <script src="https
